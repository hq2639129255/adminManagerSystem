<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8" />
    <title>生产线管理-列表</title>
       
    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/content/content.css" rel="stylesheet" />
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/content/content.js"></script>
</head>
<body style="margin-right:0px;">
    <div class="right_content">
     <!--查询条件 begin-->
         <div id="search_btn"class="content_search_group">
      <div class="row">
      <div class="col-xs-7">
       <div class="input-group content_line content_left">
                    <span class="input-group-addon" id="basic-addon2">手机号</span>
                    <input type="text" neme=phone class="form-control content_search_text" placeholder="输入手机号" aria-describedby="basic-addon2">
         </div>

         <div class="input-group content_line content_left">
                    <span class="input-group-addon" id="basic-addon3">姓名查询</span>
                    <input type="text" name=vipname class="form-control" placeholder="输入姓名" aria-describedby="basic-addon2">
         </div>

         <div class="input-group content_line content_left">
         <span class="input-group-addon" id="Span1">持卡类型</span>
         <select id="cardType" class="form-control line left">
                    <option value="0">请选择持卡类型</option>
                </select>
         </div>
    </div>
          <div class="col-xs-5">
              <div class="three_two">
                  <a href="#" class="btn btn-primary" id="queryOK">查询</a>
                  <a href="#" class="btn btn-danger" id="reset">重置</a>
                  <a href="#" class="btn btn-success" data-toggle="modal"
                     data-target="#add1" data-backdrop="static">新增</a>
              </div>
          </div>
    </div>

    </div>
         </div>




















        <!--查询条件 end-->

         <!--数据列表 begin-->
         <table id="table_list" class="table table-hover table-bordered table-condensed">
      <thead>
         <tr>
          <th>姓名</th>
             <th>会员卡号</th>
                      <th>住址</th>
                      <th>性别</th>
          			 <th>持卡类型</th>
                      <th>联系方式</th>
               <th>邮箱</th>
                      <th class="w110">操作</th>
         </tr>
      </thead>
      <tbody id="datalist">


      </tbody>
   </table>
        <!--数据列表 end-->

        <div class="pages content_right" >
            <div class="pages_record">
                共&nbsp;<b id="pagesun">3</b>&nbsp;页 &nbsp;第&nbsp;<b id="curentpage">1</b>&nbsp;页&nbsp; <b id="rowcount">10</b>&nbsp;条/页&nbsp; &nbsp;共&nbsp;<b id="rowsun">27</b>&nbsp;条记录
            </div>

            <ul class="pagination">
                <li id="firstPage"><a href="#" aria-label="Previous"><span aria-hidden="true">首页</span></a></li>
                <li  id="upPage"><a href="#">上一页<span class="sr-only">(current)</span></a></li>
                <li id="downpage"><a href="#">下一页</a></li>
                <li id="endpage"><a href="#" aria-label="Next"><span aria-hidden="true">尾页</span></a></li>
                <li>


                    <select  class="form-control w80 line left"  name="pagecount">
                        <option   value="5">5</option>
                        <option selected="selected" value="10">10</option>
                        <option value="15">15</option>
                        <option value="20">20</option>
                    </select>

                </li>

                <li><input type="text" id="inputpage" placeholder="输入页数" class="form-control w80"></li>
                <a href="#" id="goto">跳转</a>
                <input type="hidden" name="type" value="Vipinfoview"/>

            </ul>

        </div>
    </div> 


                  <!-- Modal begin -->
              <!--添加-->
              <div class="modal fade" id="add1" tabindex="-1" role="dialog" aria-labelledby="add11">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="add11">新增</h4>
                                    </div>
                                    <div class="modal-body p_bottom35">
                                         <ul>
                                             <li>
                                                 <label><span>姓名： </span></label>
                                                 <input type="text" name="addname" maxlength="40">
                                             </li>
                                             <li></li>
                                             <li>
                                                 <label><span>性别： </span></label>
                                                 <select id="addsex" class="h26 line left">
                                                     <option value="男">男</option>
                                                     <option value="女">女</option>
                                                 </select>
                                             </li>
                                             <li></li>
                                             <li>
                                                 <label><span>卡类型： </span></label>
                                                 <select id="addcardtype" class="h26 line left">
                                                     <option value="0">请选择</option>
                                                 </select>
                                             </li>
                                             <li></li>
                                             <li>
                                                 <label><span>住址： </span></label>
                                                 <input type="text" name="addAddrees" maxlength="40">
                                             </li>
                                             <li></li>
                                             <li>
                                                 <label><span>联系方式： </span></label>
                                                 <input type="text" name="addphone" maxlength="40">
                                             </li>
                                             <li></li>
                                             <li>
                                                 <label><span>email： </span></label>
                                                 <input type="text" name="addemil" maxlength="40">
                                             </li>
                                             <li></li>
                                        </ul>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">取消</button>
                                        <button type="button" id="addsave" class="btn btn-primary btn-sm">保存</button>
                                    </div>
                                </div>
                            </div>
              </div>

              <div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit">
                            <div class="modal-dialog" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title" id="myModalLabel1">编辑</h4>
                                    </div>
                                    <div class="modal-body p_bottom35">
                                        <ul>
                                            <li>
                                                <label><span>姓名： </span></label>
                                                <input type="text" name="uapdatename" maxlength="40">
                                            </li>
                                            <li></li>
                                            <li>
                                                <label><span>性别： </span></label>
                                                <select id="updatesex" class="h26 line left">
                                                    <option value="男">男</option>
                                                    <option value="女">女</option>
                                                </select>
                                            </li>
                                            <li></li>
                                            <li>
                                                <label><span>住址： </span></label>
                                                <input type="text" name="uapdateAddrees" maxlength="40">
                                            </li>
                                            <li></li>
                                            <li>
                                                <label><span>联系方式： </span></label>
                                                <input type="text" disabled="disabled" name="uapdatephone" maxlength="40">
                                            </li>
                                            <li></li>
                                            <li>
                                                <label><span>email： </span></label>
                                                <input type="text" name="uapdateemil" maxlength="40">
                                            </li>
                                            <li></li>
                                        </ul>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default btn-sm" data-dismiss="modal">取消</button>
                                        <button type="button" id="updatasave" class="btn btn-primary btn-sm">保存</button>
                                    </div>
                                </div>
                            </div>
              </div>
              <!--Modal end-->
    <script src="js/qxcheck.js"></script>
    <script src="js/CookieUtil.js"></script>
    <script>
        //    添加编辑模态框
        $('#add').on('show.bs.modal', function (event) {
            var button = $(event.relatedTarget) // Button that triggered the modal
            var recipient = button.data('whatever') // Extract info from data-* attributes
            // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).
            // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.
            var modal = $(this)
            modal.find('.modal-title').text('' + recipient)
            modal.find('.modal-body input').val(recipient)
        });
        <!-- 检查权限-->
        checkqx();
<!--           -->
        <!--分页begin-->
        let $firstPage=$("#firstPage");
        let $upPage=$("#upPage");
        let $downpage=$("#downpage");
        let $endpage=$("#endpage");
        $firstPage.hover(activeStyle,notactiveStyle);
        $firstPage.hover(activeStyle,notactiveStyle);
        $upPage.hover(activeStyle,notactiveStyle);
        $downpage.hover(activeStyle,notactiveStyle);
        $endpage.hover(activeStyle,notactiveStyle);

        function activeStyle() {
            $(this).addClass("active");

        }
        function notactiveStyle() {
            $(this).removeClass("active");

        }
        function clickFirstPage() {
            if($("#curentpage").text()=="1"){
                $firstPage.addClass("disabled");
                return false;
            }else {
                $endpage.removeClass("disabled");
                $downpage.removeClass("disabled");
                $.ajax({

                    type:"POST",
                    url: "/admin/findPageData.do",
                    data:{
                        phone:$("input[neme=phone]").val(),
                        vipname:$("input[name=vipname]").val(),
                        cardtype:$("#cardType>option:selected").val(),
                        pagetype:$("[name=type]").val(),
                        rowconut:$("[name=pagecount]>option:selected").val(),
                        curentpage:1,
                        datatype:$("[name=type]").val()},
                    success: function (data) {
                        $("#datalist").html("");
                        initdata(data);

                    }
                })
            }

        }
        function clickuppage() {
            if($("#curentpage").text()=="1"){
                $upPage.addClass("disabled");
                $firstPage.addClass("disabled");
                return false;
            }else {
                $downpage.removeClass("disabled");
                $endpage.removeClass("disabled");
                $.ajax({

                    type:"POST",
                    url: "/admin/findPageData.do",
                    data:{
                        phone:$("input[neme=phone]").val(),
                        vipname:$("input[name=vipname]").val(),
                        cardtype:$("#cardType>option:selected").val(),
                        pagetype:$("[name=type]").val(),
                        rowconut:$("[name=pagecount]>option:selected").val(),
                        curentpage:parseInt($("#curentpage").text())-1,
                        datatype:$("[name=type]").val()},
                    success: function (data) {
                        $("#datalist").html("");
                        initdata(data);

                    }
                })
            }
        }

        function  clickdownpage() {
            if($("#curentpage").text()==$("#pagesun").text()){
                $downpage.addClass("disabled");
                $endpage.addClass("disabled");

            }else {
                $firstPage.removeClass("disabled");
                $upPage.removeClass("disabled");
                $.ajax({

                    type:"POST",
                    url: "/admin/findPageData.do",
                    data:{
                        phone:$("input[neme=phone]").val(),
                        vipname:$("input[name=vipname]").val(),
                        cardtype:$("#cardType>option:selected").val(),
                        pagetype:$("[name=type]").val(),
                        rowconut:$("[name=pagecount]>option:selected").val(),
                        curentpage:parseInt($("#curentpage").text())+1,
                        datatype:$("[name=type]").val()},
                    success: function (data) {
                        $("#datalist").html("");
                        initdata(data);

                    }

                })}


        }

        function endPage() {
            if($("#curentpage").text()==$("#pagesun").text()){
                $downpage.addClass("disabled");
                $endpage.addClass("disabled");
                return false;

            }else {
                $firstPage.removeClass("disabled");
                $upPage.removeClass("disabled");
                $.ajax({

                    type:"POST",
                    url: "/admin/findPageData.do",
                    data:{
                        phone:$("input[neme=phone]").val(),
                        vipname:$("input[name=vipname]").val(),
                        cardtype:$("#cardType>option:selected").val(),
                        pagetype:$("[name=type]").val(),
                        rowconut:$("[name=pagecount]>option:selected").val(),
                        curentpage:$("#pagesun").text(),
                        datatype:$("[name=type]").val()},
                    success: function (data) {
                        $("#datalist").html("");
                        initdata(data);

                    }

                })}
        }

        <!--分页end-->








        <!--初始化页面数据begin-->
        var  curentDataPostion;//点击位置
        $(function () {
            init();
            $("#goto").on("click",gotoPage);
            $("#reset").on("click",clearQueryText);
            $downpage.click(clickdownpage);
            $firstPage.click(clickFirstPage);
            $upPage.click(clickuppage);
            $endpage.click(endPage);
        })
        function init() {


            $.ajax({
                dataType:"JSON",
                type: "GET",
                url: "/admin/initCardType.do",
                success: function (data) {
                    $(data).each(function (index,obj) {
                        let $option=$("<option>"+obj.t_name +"</option>");
                        $option.attr({value:obj.t_name});
                        let $addoption=$("<option>"+obj.t_name +"</option>");
                        $addoption.attr({value:obj.t_id});

                        $("#addcardtype").append($addoption);
                        $("#cardType").append($option);

                    })

                }

            });






            $.ajax({
                data:{pagetype:$("[name=type]").val(),
                    phone:$("input[neme=phone]").val(),
                    vipname:$("input[name=vipname]").val(),
                    cardtype:$("#cardType>option:selected").val()},
                type: "GET",
                url: "/admin/findPageData.do",
                success: function (data) {
                    initdata(data);
                }

            })

        }

        function  initdata(data) {
            let $pagesun=$("#pagesun");
            let $curentpage=$("#curentpage");
            let $rowcount=$("#rowcount");
            let $rowsun=$("#rowsun");

            let datalist= JSON.parse(data);

            $pagesun.text(datalist.sunPage);
            $curentpage.text(datalist.curentPage);
            $rowcount.text(datalist.curentrow);
            $rowsun.text(datalist.sunrow);

            for(let key in datalist.pageData ){
                let  $datatr=$("<tr>"+
                    "<td>"+datalist.pageData[key].e_name+"</td>"+
                    "<td>"+datalist.pageData[key].card_id+"</td>"+
                    "<td>"+(datalist.pageData[key].address==null?"":datalist.pageData[key].address)+"</td>"+
                    "<td>"+datalist.pageData[key]['sex']+"</td>"+
                    "<td>"+datalist.pageData[key].t_name+"</td>"+
                    "<td>"+datalist.pageData[key].phone+"</td>"+
                    "<td>"+datalist.pageData[key]['email']+"</td>"+
                    "</tr>");
                let $tdupdate='<td> <a href="#" name="'+datalist.pageData[key].v_id+'" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#edit" data-backdrop="static">编辑</a> </td>';

                $datatr.append($tdupdate);
                $datatr.find("a:first").on("click",function () {

                    curentDataPostion=$(this).parent().parent();
                    $("[name=uapdatename]").val(curentDataPostion.find("td:first").text());
                    $("[name=uapdatephone]").val(curentDataPostion.find("td:eq(5)").text());
                    $("[name=uapdateAddrees]").val(curentDataPostion.find("td:eq(2)").text());
                    $("[name=uapdateemil]").val(curentDataPostion.find("td:eq(6)").text());

                    $("#addsex>option").each(function (i,o) {
                        if($(o).text==curentDataPostion.find("td:eq(3)").text()){
                            $(o).attr({"selected":true});
                        }

                    })

                })
                $("#datalist").append($datatr);
            }
        }


        <!--初始化页面数据end-->


        <!--查询begin  -->

        $("#queryOK").click(function () {
            $.ajax({
                type:"POST",
                url:"/admin/findPageData.do",
                data:{  pagetype:$("[name=type]").val(),
                    rowconut:$("[name=pagecount]>option:selected").val(),
                    phone:$("input[neme=phone]").val(),
                    vipname:$("input[name=vipname]").val(),
                    cardtype:$("#cardType>option:selected").val()
                },
                success:function (data) {
  //{"v_id":1,"card_id":1,"e_name":"李靖","address":"湖南省邵阳市隆回县","sex":"男","t_name":"普通卡","phone":"13397552196"}
                    $("#datalist").html("");
                    initdata(data);
                    // if(data.flag){
                    //     $(data.dataList).each(function (index,obj) {
                    //         let  $datatr=$("<tr>"+
                    //             "<td>"+obj.e_name+"</td>"+
                    //             "<td>"+obj.card_id+"</td>"+
                    //             "<td>"+obj.address+"</td>"+
                    //             "<td>"+obj['sex']+"</td>"+
                    //             "<td>"+obj.t_name+"</td>"+
                    //             "<td>"+obj.phone+"</td>"+
                    //             "<td>"+obj['email']+"</td>"+
                    //             "</tr>");
                    //         let $tdupdate='<td> <a href="#"   name="'+obj.v_id+'"class="btn btn-primary btn-sm" data-toggle="modal" data-target="#edit" data-backdrop="static">编辑</a></td>';
                    //         $datatr.append($tdupdate);
                    //         $datatr.find("a:first").on("click",function () {
                    //
                    //             curentDataPostion=$(this).parent().parent();
                    //             $("[name=uapdatename]").val(curentDataPostion.find("td:first").text());
                    //             $("[name=uapdatephone]").val(curentDataPostion.find("td:eq(5)").text());
                    //             $("[name=uapdateAddrees]").val(curentDataPostion.find("td:eq(2)").text());
                    //             $("[name=uapdateemil]").val(curentDataPostion.find("td:eq(6)").text());
                    //             $("#addsex>option").each(function (i,o) {
                    //                 if($(o).text==curentDataPostion.find("td:eq(3)").text()){
                    //                     $(o).attr({"selected":true});
                    //                 }
                    //
                    //             })
                    //
                    //         })
                    //         $("#datalist").append($datatr);
                    //
                    //     })
                    //
                    // }else {
                    //     alert(data.info)
                    // }


                }


            })
        });
<!--条件查询end-->
<!--新增表单验证begin-->
        var phoneReg=/^(13[0-9]|14[5|7]|15[0|1|2|3|4|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$/;
        var emilReg=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
        function clearTextStyle() {
            $(this).parent().next("li").text("");
        }
       function  checkName() {
           let flag=true;
           if($("input[name=addname]").val()==""){
               flag=false;
               $("input[name=addname]").parent().next("li").text("姓名不能为空").css({"color":"#f00"});
           }
           return flag;
       }


       function  checkCardType() {
          let flag=true;
       if($("#addcardtype>option:selected").val()=="0"){
           flag=false;
           $("#addcardtype").parent().next("li").text("请选择卡类型").css({"color":"#f00"});
       }
return flag;
       }
function checkAddress() {
    let flag=true;
    if($("[name=addAddrees]").val()==""){
        flag=false;
        $("[name=addAddrees]").parent().next("li").text("地址不能为空").css({"color":"#f00"});
    }
    return flag;
}


        function checkPhone() {
            let flag=true;
            if($("[name=addphone]").val()==""){
                flag=false;
                $("[name=addphone]").parent().next("li").text("手机号不能为空").css({"color":"#f00"});
            }else if(!phoneReg.test($("[name=addphone]").val())){
                flag=false;
                $("[name=addphone]").parent().next("li").text("手机号格式错误").css({"color":"#f00"});
            }else{
                $.ajax({
                    async:false,
                    url:"isVipinfoByphone.do",
                    dataJson:"JSON",
                    data:{phone:$("[name=addphone]").val()},
                    success:function (data) {
                        if(data=='true'){
                            flag=true;
                        }else {
                            flag=false;
                            $("[name=addphone]").parent().next("li").text("手机号已经存在").css({"color":"#f00"});
                        }
                    }

                });
            }
            return flag;

        }
        function  checkEmail(){
            let flag=true;
            if($("[name=addemil]").val()==""){
                flag=false;
                $("[name=addemil]").parent().next("li").text("邮箱不能为空").css({"color":"#f00"});
            }else if(!emilReg.test($("[name=addemil]").val())){
                flag=false;
                $("[name=addemil]").parent().next("li").text("邮箱格式错误").css({"color":"#f00"});
            }else{
                $.ajax({
                    async:false,
                    url:"isVipinfoByEmail.do",
                    dataJson:"JSON",
                    data:{Email:$("[name=addemil]").val()},
                    success:function (data) {
                        if(data=='true'){
                            flag=true;
                        }else {
                            flag=false;
                            $("[name=addemil]").parent().next("li").text("邮箱号已经存在").css({"color":"#f00"});
                        }
                    }

                });
            }
            return flag;
        }

        $("[name=addphone]").blur(checkPhone);
        $("[name=addphone]").focus(clearTextStyle);

        $("#addcardtype").blur(checkCardType);
        $("#addcardtype").focus(clearTextStyle);

        $("input[name=addname]").blur(checkName);
        $("input[name=addname]").focus(clearTextStyle);
        $("[name=addemil]").blur(checkEmail);
        $("[name=addemil]").focus(clearTextStyle);

        $("[name=addAddrees]").focus(clearTextStyle);
        $("[name=addAddrees]").blur(checkAddress);

 <!--新增表单验证end-->
<!--新增 begin -->
        $("#addsave").click(function () {
            let nameOk=checkName();
            let cardTypeOk=checkCardType();
            let addrssOk=checkAddress();
            let phoneOk=checkPhone();
            let emilOk=checkEmail();


if(nameOk&&cardTypeOk&&addrssOk&&phoneOk&&emilOk){

            $.ajax({
                type: "POST",
                dataType: "JSON",
                url:"insertVipinfoview.do",
                data: {
                    addname: $("input[name=addname]").val(),
                    addcardtype: $("#addcardtype>option:selected").val(),
                    addsex: $("#addsex>option:selected").val(),
                    addphone: $("[name=addphone]").val(),
                    addAddrees: $("[name=addAddrees]").val(),
                    addemil: $("[name=addemil]").val()

                },
                success: function (data) {

                    alert(data.info);
                }

            })

        }

        });
<!--新增end -->
<!--修改表单验证-->
        function  checkUpdataName() {
            let flag=true;
            if($("[name=uapdatename]").val()==""){
                flag=false;
                $("[name=uapdatename]").parent().next("li").text("姓名不能为空").css({"color":"#f00"});
            }
            return flag;
        }



        function checkUpdataAddress() {
            let flag=true;
            if($("[name=uapdateAddrees]").val()==""){
                flag=false;
                $("[name=uapdateAddrees]").parent().next("li").text("地址不能为空").css({"color":"#f00"});
            }
            return flag;
        }



        function  checkUpdataEmail(){
            let flag=true;
            if($("[name=uapdateemil]").val()==""){
                flag=false;
                $("[name=uapdateemil]").parent().next("li").text("邮箱不能为空").css({"color":"#f00"});
            }else if(!emilReg.test($("[name=uapdateemil]").val())){
                flag=false;
                $("[name=uapdateemil]").parent().next("li").text("邮箱格式错误").css({"color":"#f00"});
            }else{
                $.ajax({
                    async:false,
                    url:"isVipinfoByEmail.do",
                    dataJson:"JSON",
                    data:{Email:$("[name=uapdateemil]").val()},
                    success:function (data) {
                        if(data=='true'){
                            flag=true;
                        }else {
                            flag=false;
                            $("[name=uapdateemil]").parent().next("li").text("邮箱号已经存在").css({"color":"#f00"});
                        }
                    }

                });
            }
            return flag;
        }
        $("[name=uapdatename]").blur(checkUpdataName);
        $("[name=uapdatename]").focus(clearTextStyle);
        $("[name=uapdateAddrees]").blur(checkUpdataAddress);
        $("[name=uapdateAddrees]").focus(clearTextStyle);
        $("[name=uapdateemil]").blur(checkUpdataEmail);
        $("[name=uapdateemil]").focus(clearTextStyle);


        <!--修改表单验证-->
        <!-- 修改begin-->
        $("#updatasave").click(function () {
            let $trdata=curentDataPostion;
            let nameOK=checkUpdataName();
            let addreesOk=checkUpdataAddress();
            let emilOK=checkUpdataEmail();

            if(nameOK&&addreesOk&&emilOK){
            $.ajax({
                dataType:"JSON",
                type:"POST",
                url:"upadatevipinfo.do",
                data:{name:$("[name=uapdatename]").val(),
                    updatesex:$("#updatesex>option:selected").val(),
                    uapdateAddrees:$("[name=uapdateAddrees]").val(),
                    uapdateemil:$("[name=uapdateemil]").val(),
                    vid:curentDataPostion.find("a:first").attr("name")
                },
                success:function (data) {
                    if(data.flag){
                        alert(data.info);
                        $trdata.find("td:eq(0)").text($("[name=uapdatename]").val());
                        $trdata.find("td:eq(2)").text($("[name=uapdateAddrees]").val());
                        $trdata.find("td:eq(3)").text($("#updatesex>option:selected").val());
                        $trdata.find("td:eq(6)").text($("[name=uapdateemil]").val());
                    }else {
                        alert(data.info);

                    }
                    curentDataPostion=null;
                }


            })
            }
        });
        <!-- 修改end -->
           id="cardType"
function clearQueryText() {
            $("[neme=phone]").val("");
            $("[name=vipname]").val("");
            $("#cardType>option:eq(0)").attr({"selected":true});

}

<!--跳转-->
        function gotoPage() {
            let inputPage=$("#inputpage").val();
            if(isNaN(inputPage)||parseInt(inputPage)<=0){
                $("#inputpage").val("1");
                inputPage=1;
            }else if(parseInt(inputPage)>parseInt($("#pagesun").text())){
                $("#inputpage").val($("#pagesun").text());
                inputPage=$("#pagesun").text();
            }

            $.ajax({
                type:"POST",
                url: "/admin/findPageData.do",
                data:{
                    phone:$("input[neme=phone]").val(),
                    vipname:$("input[name=vipname]").val(),
                    cardtype:$("#cardType>option:selected").val(),
                    pagetype:$("[name=type]").val(),
                    rowconut:$("[name=pagecount]>option:selected").val(),
                    curentpage:inputPage,
                    datatype:$("[name=type]").val()},

                success: function (data) {
                    $("#datalist").html("");
                    initdata(data);

                }
            })


        }



</script>
</body>
</html>
